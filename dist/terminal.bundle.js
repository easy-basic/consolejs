!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(1)),o=a(n(2)),s=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}n(4);var u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e&&(e=document.querySelector(e)),this.container=e,this.container.innerHTML='<pre><span class="text"></span><span class="prompt"></span></pre>',this.console=this.container.querySelector(".text"),this.defaultColor=n.color||"#333",this.background=n.background||"#fff",this.write(n.header||""),this.listeners=new Map,this.prompt=new i.default(this,n),this.history=new o.default,this.draw=new s.default(this)}return r(t,[{key:"addEventListener",value:function(t,e){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t).push(e)}},{key:"removeEventListener",value:function(t,e){var n=this.listeners.get(t),r=void 0;return!!(n&&n.length&&(r=n.reduce(function(t,n,r){return function(t){return"function"==typeof t||!1}(n)&&n===e?t=r:t},-1))>-1)&&(n.splice(r,1),this.listeners.set(t,n),!0)}},{key:"emit",value:function(t,e){var n=this.listeners.get(t),r=!0,i=!1,o=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){(0,s.value)(e)}}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}}},{key:"write",value:function(t,e){t=t.toString(),e||(e=this.defaultColor);var n=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;this.addToken(a,e)}}catch(t){r=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}},{key:"addToken",value:function(t,e,n){var r=document.createElement("span");r.style.color=e,r.style.backgroundColor=n,r.innerText=t,this.console.appendChild(r)}}]),t}();window.Terminal=u,e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.terminal=e,this.options=r,this.promptEl=e.container.querySelector(".prompt"),this.terminal.container.addEventListener("focus",function(t){n.focus()}),document.querySelector("body").spellcheck=!1}return r(t,[{key:"init",value:function(){var t=this;this.promptEl.innerHTML="<span>"+(this.options.prompt||"")+"</span>",this.prompt=document.createElement("span"),this.prompt.contentEditable=!0,this.prompt.innerText="",this.promptEl.appendChild(this.prompt),this.is_hist=!1,this.prompt.addEventListener("keydown",function(e){t.onKey(e)}),this.focus()}},{key:"destroyPrompt",value:function(){this.promptEl.innerHTML="",this.prompt=null}},{key:"focus",value:function(){this.prompt&&this.prompt.focus()}},{key:"onKey",value:function(t){var e=this;if("Enter"==t.key){var n=this.prompt.innerText;return this.destroyPrompt(),this.terminal.history.push(n),this.terminal.write(""+(this.options.prompt||"")+n+"\n"),this.terminal.emit("onPrompt",n),!1}"ArrowUp"==t.key||"ArrowDown"==t.key?setTimeout(function(){e.is_hist||(e.crnt_text=e.prompt.innerText);var n="ArrowDown"==t.key?e.terminal.history.getNext():e.terminal.history.getPrevious();n&&"string"==typeof n?(e.prompt.innerText=n,e.is_hist=!0):-1==n&&(e.prompt.innerText=e.crnt_text,e.is_hist=!1),e._moveCaretToEnd()},10):this.is_hist=!1}},{key:"_moveCaretToEnd",value:function(){var t=document.createRange(),e=window.getSelection();t.setStart(this.prompt,1),t.collapse(!0),e.removeAllRanges(),e.addRange(t)}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.history=[],this.index=0}return r(t,[{key:"getNext",value:function(){return this.index>=this.history.length-1?(this.index++,this.index>=this.history.length&&(this.index=this.history.length),-1):this.history[++this.index]}},{key:"getPrevious",value:function(){if(this.index<0)return!1;var t=this.history[--this.index];return this.index<=0&&(this.index=0),t}},{key:"push",value:function(t){t&&this.history.push(t),this.index++}},{key:"reset",value:function(){this.history=[]}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.terminal=e,this.canvas=document.createElement("canvas"),this.terminal.container.appendChild(this.canvas),this.fitCanvas()}return r(t,[{key:"fitCanvas",value:function(){var t=this;this.terminal.container.style.position="relative",this.canvas.style.position="absolute",this.canvas.style.top=0,this.canvas.width=this.terminal.container.offsetWidth,this.canvas.height=this.terminal.container.offsetHeight,window.onresize=function(){t.fitCanvas()}}}]),t}();e.default=i},function(t,e,n){var r=n(5);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,"pre {\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    font-family: 'Ubuntu Mono';\n}\n\npre [contenteditable]{\n    border: none;\n    outline: none;\n}\n\n.prompt-label{\n    color: #729FCF;\n}\n\n#console{\n    height: 100%;\n    outline: none;\n}",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){var r={},i=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),o=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),s=null,a=0,u=[],c=n(8);function l(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=r[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(y(i.parts[s],e))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(y(i.parts[s],e));r[i.id]={id:i.id,refs:1,parts:a}}}}function f(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function p(t,e){var n=o(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function d(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(e,t.attrs),p(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var u=a++;n=s||(s=d(e)),r=b.bind(null,n,u,!1),i=b.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),p(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=c(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){h(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return l(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var s=n[o];(a=r[s.id]).refs--,i.push(a)}t&&l(f(t,e),e);for(o=0;o<i.length;o++){var a;if(0===(a=i[o]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete r[a.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function b(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlcm1pbmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9wcm9tcHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYXdpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy5jc3M/MDJhZSIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzLmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJUZXJtaW5hbCIsImVsZW1lbnQiLCJvcHRpb25zIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRhaW5lciIsImlubmVySFRNTCIsImNvbnNvbGUiLCJkZWZhdWx0Q29sb3IiLCJjb2xvciIsImJhY2tncm91bmQiLCJ3cml0ZSIsImhlYWRlciIsImxpc3RlbmVycyIsIk1hcCIsInByb21wdCIsIlByb21wdCIsImhpc3RvcnkiLCJIaXN0b3J5TWFuYWdlciIsImRyYXciLCJEcmF3aW5nIiwibGFiZWwiLCJjYWxsYmFjayIsImhhcyIsInNldCIsInB1c2giLCJpbmRleCIsInJlZHVjZSIsImxpc3RlbmVyIiwib2JqIiwiaXNGdW5jdGlvbiIsInNwbGljZSIsImRhdGEiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsImVyciIsInJldHVybiIsInRleHQiLCJ0b1N0cmluZyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsImNoIiwiYWRkVG9rZW4iLCJiZyIsInNwYW4iLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJpbm5lclRleHQiLCJhcHBlbmRDaGlsZCIsIndpbmRvdyIsInRlcm1pbmFsIiwiX3RoaXMiLCJwcm9tcHRFbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiZm9jdXMiLCJzcGVsbGNoZWNrIiwiX3RoaXMyIiwiY29udGVudEVkaXRhYmxlIiwiaXNfaGlzdCIsIm9uS2V5IiwiX3RoaXMzIiwiZGVzdHJveVByb21wdCIsImVtaXQiLCJzZXRUaW1lb3V0IiwiY3JudF90ZXh0IiwiaGlzdF90ZXh0IiwiZ2V0TmV4dCIsImdldFByZXZpb3VzIiwiX21vdmVDYXJldFRvRW5kIiwicmFuZ2UiLCJjcmVhdGVSYW5nZSIsInNlbCIsImdldFNlbGVjdGlvbiIsInNldFN0YXJ0IiwiY29sbGFwc2UiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsImNhbnZhcyIsImZpdENhbnZhcyIsInBvc2l0aW9uIiwidG9wIiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsIm9ucmVzaXplIiwiY29udGVudCIsImhtciIsInRyYW5zZm9ybSIsImluc2VydEludG8iLCJsb2NhbHMiLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwibWFwIiwiaXRlbSIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInRvQ29tbWVudCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJpZCIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImZuIiwibWVtbyIsImFwcGx5IiwibWVtb2l6ZSIsImFsbCIsImF0b2IiLCJnZXRFbGVtZW50IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsImoiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsImluc2VydFN0eWxlRWxlbWVudCIsIkVycm9yIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsInR5cGUiLCJhZGRBdHRycyIsImVsIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJ1cGRhdGUiLCJyZW1vdmUiLCJyZXN1bHQiLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInJlcGxhY2VUZXh0IiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxH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SUFBQXVELEVBQUFELEVBQUFFLFNBQUEsS0FBQUYsRUFBQUcsS0FDQUMsRUFBQUgsRUFBQUQsRUFBQUssU0FBQUMsUUFBQSxpQkEyREEsT0EvQkE1RCxFQUFBNEQsUUFBQSwrREFBQUMsRUFBQUMsR0FFQSxJQVdBQyxFQVhBQyxFQUFBRixFQUNBRyxPQUNBTCxRQUFBLG9CQUFBbFAsRUFBQXdQLEdBQXdDLE9BQUFBLElBQ3hDTixRQUFBLG9CQUFBbFAsRUFBQXdQLEdBQXdDLE9BQUFBLElBR3hDLDBEQUFBQyxLQUFBSCxHQUNBSCxHQVFBRSxFQUZBLElBQUFDLEVBQUFsRCxRQUFBLE1BRUFrRCxFQUNHLElBQUFBLEVBQUFsRCxRQUFBLEtBRUh5QyxFQUFBUyxFQUdBTixFQUFBTSxFQUFBSixRQUFBLFlBSUEsT0FBQXRHLEtBQUFDLFVBQUF3RyxHQUFBIiwiZmlsZSI6InRlcm1pbmFsLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBQcm9tcHQgZnJvbSAnLi9wcm9tcHQnO1xuaW1wb3J0IEhpc3RvcnlNYW5hZ2VyIGZyb20gJy4vaGlzdG9yeSc7XG5pbXBvcnQgRHJhd2luZyBmcm9tICcuL2RyYXdpbmcnO1xuXG5pbXBvcnQgJy4vc3R5bGVzLmNzcyc7XG5cbmNsYXNzIFRlcm1pbmFsIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50ID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJzxwcmU+PHNwYW4gY2xhc3M9XCJ0ZXh0XCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwicHJvbXB0XCI+PC9zcGFuPjwvcHJlPic7XG4gICAgICAgIHRoaXMuY29uc29sZSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy50ZXh0Jyk7XG5cbiAgICAgICAgdGhpcy5kZWZhdWx0Q29sb3IgPSBvcHRpb25zLmNvbG9yIHx8ICcjMzMzJztcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gb3B0aW9ucy5iYWNrZ3JvdW5kIHx8ICcjZmZmJztcbiAgICAgICAgdGhpcy53cml0ZShvcHRpb25zLmhlYWRlciB8fCAnJyk7XG5cbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMucHJvbXB0ID0gbmV3IFByb21wdCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnlNYW5hZ2VyKCk7XG4gICAgICAgIHRoaXMuZHJhdyA9IG5ldyBEcmF3aW5nKHRoaXMpO1xuICAgIH1cblxuICAgIGFkZEV2ZW50TGlzdGVuZXIobGFiZWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmhhcyhsYWJlbCkgfHwgdGhpcy5saXN0ZW5lcnMuc2V0KGxhYmVsLCBbXSk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmdldChsYWJlbCkucHVzaChjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihsYWJlbCwgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nIHx8IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGxhYmVsKSxcbiAgICAgICAgICAgIGluZGV4O1xuXG4gICAgICAgIGlmIChsaXN0ZW5lcnMgJiYgbGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaW5kZXggPSBsaXN0ZW5lcnMucmVkdWNlKChpLCBsaXN0ZW5lciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGlzRnVuY3Rpb24obGlzdGVuZXIpICYmIGxpc3RlbmVyID09PSBjYWxsYmFjaykgP1xuICAgICAgICAgICAgICAgICAgICBpID0gaW5kZXggOlxuICAgICAgICAgICAgICAgICAgICBpO1xuICAgICAgICAgICAgfSwgLTEpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnNldChsYWJlbCwgbGlzdGVuZXJzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZW1pdChsYWJlbCwgZGF0YSkge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGxhYmVsKTtcblxuICAgICAgICBmb3IodmFyIGxpc3RlbmVyIG9mIGxpc3RlbmVycyl7XG4gICAgICAgICAgICBsaXN0ZW5lcihkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdyaXRlKHRleHQsIGNvbG9yKSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnRvU3RyaW5nKCk7XG4gICAgICAgIGlmICghY29sb3IpIGNvbG9yID0gdGhpcy5kZWZhdWx0Q29sb3I7XG4gICAgICAgIGZvciAodmFyIGNoIG9mIHRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVG9rZW4oY2gsIGNvbG9yKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkVG9rZW4oY2gsIGNvbG9yLCBiZykge1xuICAgICAgICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3Bhbi5zdHlsZS5jb2xvciA9IGNvbG9yO1xuICAgICAgICBzcGFuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnO1xuICAgICAgICBzcGFuLmlubmVyVGV4dCA9IGNoO1xuICAgICAgICB0aGlzLmNvbnNvbGUuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgfVxufVxuXG53aW5kb3cuVGVybWluYWwgPSBUZXJtaW5hbDtcbmV4cG9ydCBkZWZhdWx0IFRlcm1pbmFsOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb21wdCB7XG4gICAgY29uc3RydWN0b3IodGVybWluYWwsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLnRlcm1pbmFsID0gdGVybWluYWw7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5wcm9tcHRFbCA9IHRlcm1pbmFsLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucHJvbXB0Jyk7XG4gICAgICAgIHRoaXMudGVybWluYWwuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgfSlcblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc3BlbGxjaGVjayA9IGZhbHNlO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMucHJvbXB0RWwuaW5uZXJIVE1MID0gYDxzcGFuPiR7dGhpcy5vcHRpb25zLnByb21wdCB8fCAnJ308L3NwYW4+YFxuICAgICAgICB0aGlzLnByb21wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGhpcy5wcm9tcHQuY29udGVudEVkaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wcm9tcHQuaW5uZXJUZXh0ID0gJyc7XG4gICAgICAgIHRoaXMucHJvbXB0RWwuYXBwZW5kQ2hpbGQodGhpcy5wcm9tcHQpO1xuICAgICAgICB0aGlzLmlzX2hpc3QgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnByb21wdC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25LZXkoZSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5mb2N1cygpXG4gICAgfVxuXG4gICAgZGVzdHJveVByb21wdCgpIHtcbiAgICAgICAgdGhpcy5wcm9tcHRFbC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5wcm9tcHQgPSBudWxsO1xuICAgIH1cblxuICAgIGZvY3VzKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9tcHQpIHtcbiAgICAgICAgICAgIHRoaXMucHJvbXB0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbktleShlKSB7XG4gICAgICAgIGlmIChlLmtleSA9PSAnRW50ZXInKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IHRoaXMucHJvbXB0LmlubmVyVGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveVByb21wdCgpO1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hbC5oaXN0b3J5LnB1c2godGV4dCk7XG4gICAgICAgICAgICB0aGlzLnRlcm1pbmFsLndyaXRlKGAke3RoaXMub3B0aW9ucy5wcm9tcHQgfHwgJyd9JHt0ZXh0fVxcbmApXG4gICAgICAgICAgICB0aGlzLnRlcm1pbmFsLmVtaXQoJ29uUHJvbXB0JywgdGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKGUua2V5ID09ICdBcnJvd1VwJyB8fCBlLmtleSA9PSAnQXJyb3dEb3duJykge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuaXNfaGlzdCkgdGhpcy5jcm50X3RleHQgPSB0aGlzLnByb21wdC5pbm5lclRleHQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGlzdF90ZXh0ID0gZS5rZXkgPT0gJ0Fycm93RG93bidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy50ZXJtaW5hbC5oaXN0b3J5LmdldE5leHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnRlcm1pbmFsLmhpc3RvcnkuZ2V0UHJldmlvdXMoKTtcblxuICAgICAgICAgICAgICAgIGlmIChoaXN0X3RleHQgJiYgdHlwZW9mIGhpc3RfdGV4dCA9PSdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvbXB0LmlubmVyVGV4dCA9IGhpc3RfdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc19oaXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmKGhpc3RfdGV4dCA9PSAtMSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvbXB0LmlubmVyVGV4dCA9IHRoaXMuY3JudF90ZXh0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzX2hpc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tb3ZlQ2FyZXRUb0VuZCgpO1xuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHRoaXMuaXNfaGlzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21vdmVDYXJldFRvRW5kKCkge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICByYW5nZS5zZXRTdGFydCh0aGlzLnByb21wdCwgMSk7XG4gICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEhpc3RvcnlNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gW107XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIH1cblxuICAgIGdldE5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID49IHRoaXMuaGlzdG9yeS5sZW5ndGgtMSl7XG4gICAgICAgICAgICB0aGlzLmluZGV4ICsrO1xuICAgICAgICAgICAgaWYodGhpcy5pbmRleCA+PSB0aGlzLmhpc3RvcnkubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLmhpc3RvcnkubGVuZ3RoXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeVsrK3RoaXMuaW5kZXhdO1xuICAgIH1cblxuICAgIGdldFByZXZpb3VzKCkge1xuICAgICAgICBpZiAodGhpcy5pbmRleCA8IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLmhpc3RvcnlbLS10aGlzLmluZGV4XTtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPD0gMCkgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiB0ZXh0XG4gICAgfVxuXG4gICAgcHVzaCh0ZXh0KSB7XG4gICAgICAgIGlmKHRleHQpIHRoaXMuaGlzdG9yeS5wdXNoKHRleHQpO1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeSA9IFtdO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBEcmF3aW5nIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXJtaW5hbCkge1xuICAgICAgICB0aGlzLnRlcm1pbmFsID0gdGVybWluYWw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRoaXMudGVybWluYWwuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcbiAgICAgICAgdGhpcy5maXRDYW52YXMoKTtcbiAgICB9XG5cbiAgICBmaXRDYW52YXMoKSB7XG4gICAgICAgIHRoaXMudGVybWluYWwuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS50b3AgPSAwO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMudGVybWluYWwuY29udGFpbmVyLm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLnRlcm1pbmFsLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5maXRDYW52YXMoKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZXMuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlcy5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcInByZSB7XFxuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcXG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xcbiAgICBmb250LWZhbWlseTogJ1VidW50dSBNb25vJztcXG59XFxuXFxucHJlIFtjb250ZW50ZWRpdGFibGVde1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbi5wcm9tcHQtbGFiZWx7XFxuICAgIGNvbG9yOiAjNzI5RkNGO1xcbn1cXG5cXG4jY29uc29sZXtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBvdXRsaW5lOiBub25lO1xcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvICsgXCIgXCIgKyBvcHRpb25zLmluc2VydEF0LmJlZm9yZSk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==